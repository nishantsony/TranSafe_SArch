{
    "type": "Ext.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "comfortPanel",
        "designer|userClassName": "comfortPanel",
        "id": "comfortPanel",
        "scrollable": true,
        "style": "background-color: #FFF",
        "styleHtmlContent": true
    },
    "designerId": "23ac6a21-268e-429c-9f79-b0b7b7010bc8",
    "cn": [
        {
            "type": "Ext.Container",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "centered": false
            },
            "designerId": "b186f849-7b1f-4657-914f-4e8b46e7c9e3",
            "cn": [
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "designerId": "a26246a7-7497-4825-b2fc-9420fc907bd2",
                    "cn": [
                        {
                            "type": "Ext.field.Slider",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "clearIcon": false,
                                "designer|displayName": "hotorcold",
                                "docked": null,
                                "id": "sliderHotCold",
                                "label": "",
                                "maxValue": 5,
                                "minValue": -5,
                                "minWidth": "70%",
                                "name": "",
                                "styleHtmlContent": true,
                                "value": [
                                    0
                                ]
                            },
                            "designerId": "ea5eb05c-2958-455d-9c4b-893b1025f083"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "Cold",
                                "docked": "left",
                                "html": "Hot",
                                "style": "color:red;",
                                "styleHtmlContent": true
                            },
                            "designerId": "c5c6f54a-c2a2-47e2-a732-afb871098d72"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "cold",
                                "docked": "right",
                                "html": "Cold",
                                "styleHtmlContent": true
                            },
                            "designerId": "1d146f33-d63e-4100-9dec-9d04d11b78ea"
                        }
                    ]
                },
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "designerId": "600d48ca-8f4d-4568-b994-4438498c5a3c",
                    "cn": [
                        {
                            "type": "Ext.field.Slider",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "noisyorquiet",
                                "id": "sliderNoisyQuiet",
                                "label": "",
                                "maxValue": 5,
                                "minValue": -5,
                                "minWidth": "",
                                "styleHtmlContent": true,
                                "value": [
                                    0
                                ]
                            },
                            "designerId": "293c5121-73fd-4b14-bac6-42c6a7c0cfd1"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "noisy",
                                "docked": "left",
                                "html": "Noisy",
                                "styleHtmlContent": true
                            },
                            "designerId": "b34df619-b118-4980-a19d-cfd7f8d18a2d"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "quiet",
                                "docked": "right",
                                "html": "Quiet",
                                "styleHtmlContent": true
                            },
                            "designerId": "a63c04ce-440e-449a-bf42-fa38ecda598b"
                        }
                    ]
                },
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "designerId": "3e526da0-6e09-4df1-92b6-e007b0b01d4a",
                    "cn": [
                        {
                            "type": "Ext.field.Slider",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "crowdedorempty",
                                "id": "sliderCrowdedEmpty",
                                "label": "",
                                "maxValue": 5,
                                "minValue": -5,
                                "styleHtmlContent": true,
                                "value": [
                                    0
                                ]
                            },
                            "designerId": "820d6343-57ba-460a-b07e-096fbcad21e3"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "Crowded",
                                "docked": "left",
                                "html": "Crowded",
                                "styleHtmlContent": true
                            },
                            "designerId": "e6f3899d-4231-41b9-a8e8-939a665d5abf"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "Empty",
                                "docked": "right",
                                "html": "Empty",
                                "styleHtmlContent": true
                            },
                            "designerId": "d59ea453-d7f6-42be-95a9-5209f3666f21"
                        }
                    ]
                },
                {
                    "type": "Ext.Label",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "centered": false,
                        "designer|displayName": "ComfortLabel",
                        "docked": "top",
                        "html": "Are you Comfortable?"
                    },
                    "designerId": "75ee19a8-92ce-44a1-a4aa-dda5f5bb5b47"
                }
            ]
        },
        {
            "type": "Ext.field.Slider",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|displayName": "comfortlevel",
                "id": "sliderComfortLevel",
                "label": "Comfort Level",
                "labelAlign": "top",
                "value": [
                    50
                ]
            },
            "designerId": "edcf03b8-ca43-4b93-8edc-faf7bb8d426e"
        },
        {
            "type": "Ext.Button",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|uiInterfaceName": "confirm",
                "docked": null,
                "itemId": "mybutton8",
                "text": "Submit",
                "ui": "confirm"
            },
            "designerId": "d64ecf89-a9ee-447e-b016-0a41b71d1c65",
            "cn": [
                {
                    "type": "fixedfunction",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|params": [
                            "button",
                            "e"
                        ],
                        "fn": "handler",
                        "implHandler": [
                            "var currentdate = new Date();",
                            "var feelingsSurveyId;",
                            "var timestamp = currentdate.getFullYear() + \"-\"+(currentdate.getMonth()+1)  + \"-\" + currentdate.getDate() + \" \"  + currentdate.getHours() + \"-\"  + currentdate.getMinutes() + \"-\" + currentdate.getSeconds();",
                            "var chosenVenue = Ext.getCmp('venueLblSurvey').getHtml();",
                            "chosenVenue = chosenVenue.replace('You are at ','');",
                            "/*\tgetting feelings' values.",
                            "*\tif < 0 this is a negative feeling Sad rather than Happy, Angry rather than Peacful etc.",
                            "*\tfor this we calculate |val| and store it in an array along with all the others.",
                            "*\tif = 0 this is neutral",
                            "*\tif > 0 this is a positive feeling",
                            "*/",
                            "var tempFeelingArray = new Array();",
                            "tempFeelingArray.push(Ext.getCmp('sliderHappySad').getValue()[0]);",
                            "tempFeelingArray.push(Ext.getCmp('sliderExcitedBored').getValue()[0]);",
                            "tempFeelingArray.push(Ext.getCmp('sliderSafeScared').getValue()[0]);",
                            "tempFeelingArray.push(Ext.getCmp('sliderPeacefulAngry').getValue()[0]);",
                            "var feelingsValues = new Array();",
                            "console.log(tempFeelingArray);",
                            "for(var i = 0; i < 4; i++){",
                            "    feelingsValues=setFeelings(feelingsValues, tempFeelingArray[i]);",
                            "}",
                            "var tempComfortArray = new Array();",
                            "tempComfortArray.push(Ext.getCmp('sliderHotCold').getValue()[0]);",
                            "tempComfortArray.push(Ext.getCmp('sliderNoisyQuiet').getValue()[0]);",
                            "tempComfortArray.push(Ext.getCmp('sliderCrowdedEmpty').getValue()[0]);",
                            "//tempComfortArray.push(Ext.getCmp('sliderComfortLevel').getValue()[0]);",
                            "console.log(tempComfortArray);",
                            "var comfortValues = new Array();",
                            "for(var i = 0; i < 3; i++){",
                            "    comfortValues=setFeelings(comfortValues, tempComfortArray[i]);",
                            "}",
                            "comfortValues.push(Ext.getCmp('sliderComfortLevel').getValue()[0]);",
                            "console.log(feelingsValues);",
                            "console.log(chosenVenue);",
                            "console.log(HOT_TO_SERVER()+'|'+comfortValues[HOT_INDEX]+'|'+",
                            "         COLD_TO_SERVER()+'|'+comfortValues[COLD_INDEX]+'|'+",
                            "         NOISY_TO_SERVER()+'|'+comfortValues[NOISY_INDEX]+'|'+",
                            "         QUIET_TO_SERVER()+'|'+comfortValues[QUITE_INDEX]+'|'+",
                            "         FULL_TO_SERVER()+'|'+comfortValues[FULL_INDEX]+'|'+",
                            "         EMPTY_TO_SERVER()+'|'+comfortValues[EMPTY_INDEX]+'|'+",
                            "         COMFORT_TO_SERVER()+'|'+comfortValues[COMFORT_INDEX]);",
                            "console.log(localStorage.getItem('ifLogged') + ', ' + localStorage.getItem('username'));",
                            "console.log(SAD_TO_SERVER()+'|'+feelingsValues[SAD_INDEX] + '|' +",
                            "         HAPPY_TO_SERVER()+'|'+feelingsValues[HAPPY_INDEX] + '|' +",
                            "         BORED_TO_SERVER()+'|'+feelingsValues[BORED_INDEX] + '|' +",
                            "         EXCITED_TO_SERVER()+'|'+feelingsValues[EXCITED_INDEX] + '|' +",
                            "         SCARED_TO_SERVER()+'|'+feelingsValues[SCARED_INDEX] + '|' +",
                            "         SAFE_TO_SERVER()+'|'+feelingsValues[SAFE_INDEX] + '|' +",
                            "         ANGRY_TO_SERVER()+'|'+feelingsValues[ANGRY_INDEX] + '|' +",
                            "         PEACEFUL_TO_SERVER()+'|'+feelingsValues[PEACEFUL_INDEX]);",
                            "",
                            "// anonimous users",
                            "if(localStorage.getItem('ifLogged') == 'Invalid User' | localStorage.getItem('ifLogged') === '' | localStorage.getItem('ifLogged') == 'null' | localStorage.getItem('ifLogged') === null){",
                            "     Ext.data.JsonP.request({",
                            "",
                            "    url: 'http://115.146.86.216:8080/TransNet/services/SurveyBO/SaveSurveyAnonymous',",
                            "     params: {",
                            "         timestamp : timestamp,",
                            "         location: chosenVenue,",
                            "         feeling: SAD_TO_SERVER()+'|'+feelingsValues[SAD_INDEX] + '|' +",
                            "         HAPPY_TO_SERVER()+'|'+feelingsValues[HAPPY_INDEX] + '|' +",
                            "         BORED_TO_SERVER()+'|'+feelingsValues[BORED_INDEX] + '|' +",
                            "         EXCITED_TO_SERVER()+'|'+feelingsValues[EXCITED_INDEX] + '|' +",
                            "         SCARED_TO_SERVER()+'|'+feelingsValues[SCARED_INDEX] + '|' +",
                            "         SAFE_TO_SERVER()+'|'+feelingsValues[SAFE_INDEX] + '|' +",
                            "         ANGRY_TO_SERVER()+'|'+feelingsValues[ANGRY_INDEX] + '|' +",
                            "         PEACEFUL_TO_SERVER()+'|'+feelingsValues[PEACEFUL_INDEX],",
                            "         format: 'json',",
                            "         response: 'application/jsonp'",
                            "             },",
                            "     callbackKey: 'callback',",
                            "                    success: function (response) {",
                            "                        feelingsSurveyId = response.return;",
                            "                        console.log(response.return);",
                            "",
                            "",
                            "                         // request for comfort data",
                            "    console.log('survey id: ' + feelingsSurveyId);",
                            "",
                            "     Ext.data.JsonP.request({",
                            "",
                            "        url: 'http://115.146.86.216:8080/TransNet/services/SurveyBO/SaveComfortLevelAnonymouse',",
                            "     params: {",
                            "         surveyID: feelingsSurveyId,",
                            "         comfort: HOT_TO_SERVER()+'|'+comfortValues[HOT_INDEX]+'|'+",
                            "         COLD_TO_SERVER()+'|'+comfortValues[COLD_INDEX]+'|'+",
                            "         NOISY_TO_SERVER()+'|'+comfortValues[NOISY_INDEX]+'|'+",
                            "         QUIET_TO_SERVER()+'|'+comfortValues[QUITE_INDEX]+'|'+",
                            "         FULL_TO_SERVER()+'|'+comfortValues[FULL_INDEX]+'|'+",
                            "         EMPTY_TO_SERVER()+'|'+comfortValues[EMPTY_INDEX]+'|'+",
                            "         COMFORT_TO_SERVER()+'|'+comfortValues[COMFORT_INDEX],",
                            "         format: 'json',",
                            "         response: 'application/jsonp'",
                            "             },",
                            "     callbackKey: 'callback',",
                            "                    success: function (response) {",
                            "                        alert('Thank you!');",
                            "//                         feelingsSurveyId = response.return;",
                            "//                         console.log(response.return);",
                            "",
                            "                         Ext.Viewport.setActiveItem('stattabpanel',{",
                            "                            type: \"slide\",",
                            "                            direction: \"left\"",
                            "                        });",
                            "                    },",
                            "                    failure: function (response) {",
                            "                        alert('Not working!');",
                            "                        console.log(response.return);",
                            "                    },",
                            "     callback: function(successful, data){",
                            " }",
                            "               });",
                            "",
                            "",
                            "//                          Ext.Viewport.setActiveItem('stattabpanel',{",
                            "//                             type: \"slide\",",
                            "//                             direction: \"left\"",
                            "//                         });",
                            "                    },",
                            "                    failure: function (response) {",
                            "                        alert('Not working!');",
                            "                        console.log(response.return);",
                            "                    },",
                            "     callback: function(successful, data){",
                            " }",
                            "               });",
                            "}",
                            "",
                            "else{",
                            "    // registered logged in users",
                            "    Ext.data.JsonP.request({",
                            "",
                            "        url: 'http://115.146.86.216:8080/TransNet/services/SurveyBO/SaveSurveyDistinctive',",
                            "     params: {",
                            "         timestamp : timestamp,",
                            "         location: chosenVenue,",
                            "         feeling:  SAD_TO_SERVER()+'|'+feelingsValues[SAD_INDEX] + '|' +",
                            "         HAPPY_TO_SERVER()+'|'+feelingsValues[HAPPY_INDEX] + '|' +",
                            "         BORED_TO_SERVER()+'|'+feelingsValues[BORED_INDEX] + '|' +",
                            "         EXCITED_TO_SERVER()+'|'+feelingsValues[EXCITED_INDEX] + '|' +",
                            "         SCARED_TO_SERVER()+'|'+feelingsValues[SCARED_INDEX] + '|' +",
                            "         SAFE_TO_SERVER()+'|'+feelingsValues[SAFE_INDEX] + '|' +",
                            "         ANGRY_TO_SERVER()+'|'+feelingsValues[ANGRY_INDEX] + '|' +",
                            "         PEACEFUL_TO_SERVER()+'|'+feelingsValues[PEACEFUL_INDEX],",
                            "         username: localStorage.getItem('username'),",
                            "         token: localStorage.getItem('ifLogged'),",
                            "         format: 'json',",
                            "         response: 'application/jsonp'",
                            "             },",
                            "     callbackKey: 'callback',",
                            "                    success: function (response) {",
                            "                        feelingsSurveyId = response.return;",
                            "                        console.log(response.return);",
                            "                         // request for comfort data",
                            "    console.log('survey id: ' + feelingsSurveyId);",
                            "",
                            "     Ext.data.JsonP.request({",
                            "",
                            "        url: 'http://115.146.86.216:8080/TransNet/services/SurveyBO/SaveComfortLevelAnonymouse',",
                            "     params: {",
                            "         surveyID: feelingsSurveyId,",
                            "         comfort: HOT_TO_SERVER()+'|'+comfortValues[HOT_INDEX]+'|'+",
                            "         COLD_TO_SERVER()+'|'+comfortValues[COLD_INDEX]+'|'+",
                            "         NOISY_TO_SERVER()+'|'+comfortValues[NOISY_INDEX]+'|'+",
                            "         QUIET_TO_SERVER()+'|'+comfortValues[QUITE_INDEX]+'|'+",
                            "         FULL_TO_SERVER()+'|'+comfortValues[FULL_INDEX]+'|'+",
                            "         EMPTY_TO_SERVER()+'|'+comfortValues[EMPTY_INDEX]+'|'+",
                            "         COMFORT_TO_SERVER()+'|'+comfortValues[COMFORT_INDEX],",
                            "         format: 'json',",
                            "         response: 'application/jsonp'",
                            "             },",
                            "     callbackKey: 'callback',",
                            "                    success: function (response) {",
                            "                        alert('Thank you!');",
                            "//                         feelingsSurveyId = response.return;",
                            "//                         console.log(response.return);",
                            "",
                            "                         Ext.Viewport.setActiveItem('stattabpanel',{",
                            "                            type: \"slide\",",
                            "                            direction: \"left\"",
                            "                        });",
                            "                    },",
                            "                    failure: function (response) {",
                            "                        alert('Not working!');",
                            "                        console.log(response.return);",
                            "                    },",
                            "     callback: function(successful, data){",
                            " }",
                            "               });",
                            "//                          Ext.Viewport.setActiveItem('stattabpanel',{",
                            "//                             type: \"slide\",",
                            "//                             direction: \"left\"",
                            "//                         });",
                            "                    },",
                            "                    failure: function (response) {",
                            "                        alert('Not working!');",
                            "                        console.log(response.return);",
                            "                    },",
                            "     callback: function(successful, data){",
                            " }",
                            "               });",
                            "",
                            "",
                            "}"
                        ]
                    },
                    "designerId": "206707d5-856d-4ccd-be30-bbf06bbeede7"
                }
            ]
        },
        {
            "type": "Ext.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "centered": false,
                "container|align": "start",
                "container|pack": "end",
                "docked": "top",
                "layout": "hbox",
                "maxHeight": 100,
                "style": "background-color:#006db9"
            },
            "designerId": "ba4adf19-75ad-4c0c-9899-ba32b7fa4b33",
            "cn": [
                {
                    "type": "Ext.Img",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "height": 201,
                        "layout|flex": 1,
                        "maxHeight": 75,
                        "src": "transafe_logo.png",
                        "style": "background-color:#FFFFFF"
                    },
                    "designerId": "36310aa6-4d34-4ce9-be2f-2a04d8b33157"
                },
                {
                    "type": "Ext.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "cls": [
                            "@include icon(\"list\", \"l\");"
                        ],
                        "designer|displayName": "ListViewButton",
                        "designer|uiInterfaceName": "action",
                        "html": null,
                        "icon": null,
                        "iconAlign": "center",
                        "iconCls": "list",
                        "id": "listViewButton2",
                        "layout|flex": 1,
                        "maxWidth": null,
                        "minHeight": 75,
                        "text": "",
                        "ui": "action"
                    },
                    "designerId": "9c0df311-6835-4e01-80dc-fb575fedc352",
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "button",
                                    "e"
                                ],
                                "fn": "handler",
                                "implHandler": [
                                    "Ext.Viewport.setActiveItem('mynavigationview',{",
                                    "    type: \"slide\",",
                                    "    direction: \"left\"",
                                    "});"
                                ]
                            },
                            "designerId": "5eb24694-9636-4e9f-8645-4d2f98f1cf0e"
                        }
                    ]
                },
                {
                    "type": "Ext.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|displayName": "MapViewButton",
                        "designer|uiInterfaceName": "action",
                        "disabled": true,
                        "html": null,
                        "icon": null,
                        "iconAlign": "center",
                        "iconCls": "maps",
                        "layout|flex": 1,
                        "minHeight": 75,
                        "text": null,
                        "ui": "action"
                    },
                    "designerId": "1fc1ff46-4190-49e2-b846-ee8513fca382",
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "button",
                                    "e"
                                ],
                                "fn": "handler",
                                "implHandler": null
                            },
                            "designerId": "ee02b712-95db-4518-8550-846bbc0a60d0"
                        }
                    ]
                },
                {
                    "type": "Ext.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|displayName": "LoginViewButton",
                        "designer|uiInterfaceName": "action",
                        "html": null,
                        "icon": null,
                        "iconAlign": "center",
                        "iconCls": "user",
                        "layout|flex": 1,
                        "minHeight": 75,
                        "text": null,
                        "top": "",
                        "ui": "action"
                    },
                    "designerId": "f318f45b-f776-4d8d-857f-9894ada32bf0",
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "button",
                                    "e"
                                ],
                                "fn": "handler",
                                "implHandler": [
                                    "console.log('prev view');",
                                    "console.log(Ext.Viewport.getActiveItem().getId());",
                                    "localStorage.setItem('prevView', Ext.Viewport.getActiveItem().getId());",
                                    "Ext.Viewport.setActiveItem('signuppanel',{",
                                    "    type: \"slide\",",
                                    "    direction: \"left\"",
                                    "});"
                                ]
                            },
                            "designerId": "8bad32e6-aa07-4d7b-b62a-d62f47fb72aa"
                        }
                    ]
                }
            ]
        }
    ]
}